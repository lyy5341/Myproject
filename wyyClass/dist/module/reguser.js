"use strict";define(function(){function t(){}return t.prototype.createCode=function(){this.code="",this.codeLength=4,this.codebox=$("#codebox");for(var t=new Array(0,1,2,3,4,5,6,7,8,9,"A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"),o=0;o<this.codeLength;o++){var s=Math.floor(36*Math.random());this.code+=t[s]}this.codebox.text(this.code)},t.prototype.clickcreateCode=function(){var t=this;this.codebox.on("click",function(){t.createCode(),console.log("123")})},t.prototype.testuser=function(){this.createCode(),this.clickcreateCode();var o=this;this.form=$(".form")[0],this.phone=$("#phone"),this.password=$("#pas1"),this.testword=$("#pas2"),this.obtn=$("#btn");var s=[!1,!1,!1];this.phone.blur(function(){var t=o.phone.val();/0?(13|14|15|17|18|19)[0-9]{9}/.test(t)?(s[0]=!0,$("#test1").css("display","none"),o.tel=t):(s[0]=!1,$("#test1").css("display","block"))}),this.password.blur(function(){var t=o.password.val();/^.{4,20}$/.test(t)?(s[1]=!0,$("#test2").css("display","none"),o.pas=t):(s[1]=!1,$("#test2").css("display","block"))}),this.testword.blur(function(){o.testword.val().toUpperCase()==o.code?(s[2]=!0,$("#yzm").css("display","none")):(s[2]=!1,$("#yzm").css("display","block"))}),this.obtn.click(function(){1==s.every(function(t){return 1==t})?o.setuser():console.log("no")})},t.prototype.setuser=function(){$.ajax({url:"http://localhost/wyyClass/app/api/vi/adduser.php",method:"GET",data:{phone:this.tel,password:this.pas},dataType:"json",success:function(t){alert("注册成功,点击确定登录"),window.location.href="/html/login.html"},error:function(t){console.log("err")}})},new t});