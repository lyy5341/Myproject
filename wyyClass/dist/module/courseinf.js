"use strict";define(function(){function t(){}return t.prototype.geturlID=function(t){var o=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),s=window.location.search.substr(1).match(o);return null!=s?unescape(s[2]):null},t.prototype.seturlID=function(t){var o=this.geturlID("id");this.addifo(t,o)},t.prototype.addifo=function(t,o){var a=this;this.ele=t.box,this.id=o,this.ids=parseInt(o)+1,$.ajax({url:"http://localhost/wyyClass/app/api/vi/courseinf.php",method:"GET",dataType:"json",data:{id:a.ids},success:function(t){var o=t.data,s="";s+='<div class="course-l"><img src="'.concat(o[0].url,'" alt=""></div>\n\t\t\t<div class="course-r">\n\t\t\t<h4>').concat(o[0].til,'</h4>\n\t\t\t<div class="c1"><p>').concat(o[0].collect,"收藏<span>").concat(o[0].score,'分</span></p></div>\n\t\t\t<div class="c2"><p>￥').concat(o[0].price,'</p></div>\n\t\t\t<div class="c3"><button>立即参加</button><span id="shop">加入购物车</span></div>\n\t\t\t</div>'),a.ele.html(s),a.addshop(o[0].til,o[0].price,o[0].url)},error:function(t){console.log(t)}})},t.prototype.addshop=function(t,o,s){this.addbox=$("#shop"),this.addbox.click(function(){console.log(t,o,s),$.ajax({url:"http://localhost/wyyClass/app/api/vi/addshopcar.php",method:"GET",dataType:"json",data:{til:t,price:o,url:s},success:function(t){console.log(t),0==t.status?alert("您已添加过这门课程"):alert("添加成功")},error:function(t){console.log(t)}})})},new t});